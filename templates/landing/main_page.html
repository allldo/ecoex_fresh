{% extends 'landing/base.html' %}
{% load cache %}
{% load static %}
{% block  title %}
qwe qwe fan
{% endblock title %}
{% block head %}
    {% cache 3600 main %}
     <link rel="stylesheet" href="{% static 'css/main_page.css' %}">
<script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>

<script src="{% static 'js/js_fan/jquery.countup.min.js' %}"></script>
    {% endcache %}
    <title>Ecology Expert</title>
    <meta name="description" content="Ecology Expert - компания в сфере экологии, предоставляющая услуги в этом разделе.">
{% endblock head %}
{% block content %}
        <p class="Image_text">Ecology Expert - компания созданная для замеров загрязнения окружающей среды. Нашей миссией является контроль выбросов вредных веществ в атмосферу</p>

    <div class="BackgroundImgHeader">
    </div>
<!-- Services block -->
    <div class="ServicesBlock">
    <p>Мы предлагаем</p>
    <h1>Наши услуги</h1>

    <div class="ServicesGrid">
    {% for service in Service %}
        <div class="ServiceItem">
            <a href="{{ service.get_absolute_url }}"><img alt="{{ service.title }}" class="ServiceItem_img" src="{{ service.image.url }}" ></a>
            <a href="{{ service.get_absolute_url }}" class="ServiceItem_h2">{{ service.title|truncatechars:45 }}</a>
            <p class="ServiceItem_p"> {{ service.description|striptags|truncatechars:75  }} </p>
        </div>
        {% endfor %}
    </div>
    </div>
<!-- Endblock services -->

<!-- Block info anything could be here -->

{#<section class="section_wrapper">#}
{#<div class="Wrapper">#}
{#<p class="InfoBlockTitle__p">#}
{#lorem ipsum text smh lorem ipsum text smh lorem ipsum text smh#}
{#</p>#}
{#<p class="InfoBlock__p">#}
{#    lorem ipsum aboba lorem ipsum aboba lorem ipsum aboba lorem ipsum aboba#}
{#</p>#}
{#<div class="InfoBlock__img">#}
{#</div>#}
{#</div>#}
{#</section>#}

<!-- End block info -->


<!-- FAQ block  -->
    {% cache 86400 faq %}
    <div class="Faq_block">
    <p style="color: #e7ceb1; margin-top: 2vh;">Часто задаваемые вопросы</p>
    <h1>ЧЗВ</h1>
    <div class="Faq_wrapper">
    {% for faq in FAQ %}
    <div class="Faq_item">
    <h1 class="Faq_title">{{ faq.question }}</h1>
    <p class="Faq_answer"> {{ faq.answer|truncatechars:30 }} </p>
    </div>
    {% endfor %}
    </div>
    <a href="{% url 'landing:faq_fan' %}"><button class="Faq_button" >К ВОПРОСАМ</button></a>
    </div>
    <!-- FAQ block ends -->
{% endcache %}
  <!-- Testimonials block -->
    {% cache 39400 testimonials %}
    <div class="Testimonials">
    <p>ОТЗЫВЫ</p>
        <div class="Testimonials_items_wrapper">
    <div class="Testimonial_item">
        <div class="quote_img"></div>
        <p class="Testimonials_body">

            Наша компания сотрудничает с ТОО "Ecology Expert" с 2015 года, за это время компания зарекомендовала себя надежрным и стабильным партнером, обеспечивая гибкий подход к потребностям заказчика, высокую оперативность и надежность, не допуская срывов сроков выполнения работ

            <br><br>
            <span class="NameOfTestimonials">ТОО "ALLUR AUTO"</span>
        </p>
    </div>
     <div class="Testimonial_item">
        <div class="quote_img"></div>
        <p class="Testimonials_body">


            TOO "Ecology Expert" является нашим партнером с 2006 года в оказании экологических услуг - в области проектирования и проведения мониторинговых исследований в сфере производства, натурных испытаний по определению эффективности работы, с выдачей заключения, с выводами и рекомендациями по эксплуатации

            <br><br>
            <span class="NameOfTestimonials">ТОО "ОЗЕНТАС"</span>
        </p>
    </div>
        </div>
    </div>
{% endcache %}
  <!-- Testimonials block ends-->
    <!-- numbers block -->
    <section class="Number_block">
    <div><p class="Number_number" id="first">0</p><p class="Number_label">лет на рынке</p></div>
        <div><p class="Number_number" id="second">0</p><p class="Number_label">проектов выполнено</p></div>
    <div><p class="Number_number" id="third" >0</p><p class="Number_label">сотрудников</p></div>

    <div><p class="Number_number" id="fourth">0</p><p class="Number_label">компаний - партнеров</p></div>

     </section>



<!-- Latest news block -->
     <section class="LatestNews__Block">
        <p>Последние новости</p>
     <div class="NewsWrapper">
        {% for news in Latest_News%}
            <div class="Exact__news">
            <a href="{{ news.get_absolute_url }}"><img class="ExactNews__img" src="{{ news.image.url }}"></a>
            <div class="ExactNews__text">
            <p class="ExactNews_P_date">{{ news.date }}</p>
            <a href="{{ news.get_absolute_url }}"><h4>{{ news.title|truncatechars:125 }}</h4></a>
            <p class="ExactNews_P_description">{{ news.description|striptags|truncatechars:125 }}</p>
            </div>
            </div>
        {% endfor %}
     </div>
     </section>
<!-- Latest news block ends -->
 <script>
 

function animateValue(id, start, end, duration) {
    if (start === end) return;
    var range = end - start;
    var current = start;
    var increment = end > start? 1 : -1;
    var stepTime = Math.abs(Math.floor(duration / range));
    var obj = document.getElementById(id);
    var timer = setInterval(function() {
        current += increment;
        obj.innerHTML = current;
        if (current == end) {
            clearInterval(timer);
        }
    }, stepTime);
}
let flag = true;
let qweqwe_abuser = document.getElementById('first');
document.onscroll = function() {
var top = qweqwe_abuser.getBoundingClientRect().top;
var heightScreen = document.documentElement.clientHeight;
var body = document.querySelector("body");
var g = top - heightScreen;
if (g <=0){
if (flag === true){
animateValue("first", 0, 29, 2000);
animateValue("second", 0, 500, 1);
animateValue("third", 0, 25, 2000);
animateValue("fourth", 0, 100, 2000);

flag = false;
}
}
}
 </script>
    <script src="{% static "js/main_page_header.js" %}"></script>
    <script>
// When the user scrolls the page, execute myFunction
window.onscroll = function() {myFunction()};
setTimeout()
let number = document.getElementById('second')
setTimeout(() => { console.log("мир"); }, 3000);

</script>
{% endblock content %}
